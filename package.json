{
  "name": "bedrock-mantle-vscode-chat",
  "displayName": "AWS Bedrock Chat Provider",
  "description": "Use AWS Bedrock models in VS Code chat (Mantle + native Converse)",
  "version": "0.2.0",
  "publisher": "easytocloud",
  "repository": {
    "type": "git",
    "url": "https://github.com/easytocloud/bedrock-vscode-chat"
  },
  "engines": {
    "vscode": "^1.104.0"
  },
  "categories": [
    "AI",
    "Chat"
  ],
  "keywords": [
    "ai",
    "bedrock",
    "aws",
    "chat",
    "copilot",
    "language-model"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "languageModelChatProviders": [
      {
        "vendor": "bedrock.bedrock-vscode-chat",
        "displayName": "AWS Bedrock",
        "managementCommand": "bedrock-mantle-vscode-chat.manage"
      }
    ],
    "commands": [
      {
        "command": "bedrock-mantle-vscode-chat.manage",
        "title": "Manage AWS Bedrock"
      },
      {
        "command": "bedrock-mantle-vscode-chat.clearApiKey",
        "title": "Clear AWS Bedrock API Key (Mantle)"
      },
      {
        "command": "bedrock-mantle-vscode-chat.showLogs",
        "title": "Show AWS Bedrock Logs"
      }
    ],
    "configuration": {
      "title": "AWS Bedrock",
      "properties": {
        "aws-bedrock.enableMantle": {
          "type": "boolean",
          "default": true,
          "description": "Enable Mantle (OpenAI-compatible) models"
        },
        "aws-bedrock.enableNative": {
          "type": "boolean",
          "default": true,
          "description": "Enable native AWS Bedrock models via the Converse API (uses your AWS credentials, not the Mantle API key)"
        },
        "aws-bedrock.awsProfile": {
          "type": "string",
          "default": "",
          "description": "Optional AWS named profile to use for native Bedrock (Converse). Leave empty to use the default AWS credential chain."
        },
        "aws-bedrock.region": {
          "type": "string",
          "enum": [
            "us-east-1",
            "us-east-2",
            "us-west-2",
            "eu-west-1",
            "eu-west-2",
            "eu-central-1",
            "eu-north-1",
            "eu-south-1",
            "ap-south-1",
            "ap-northeast-1",
            "ap-southeast-3",
            "sa-east-1"
          ],
          "enumDescriptions": [
            "US East (N. Virginia)",
            "US East (Ohio)",
            "US West (Oregon)",
            "Europe (Ireland)",
            "Europe (London)",
            "Europe (Frankfurt)",
            "Europe (Stockholm)",
            "Europe (Milan)",
            "Asia Pacific (Mumbai)",
            "Asia Pacific (Tokyo)",
            "Asia Pacific (Jakarta)",
            "South America (São Paulo)"
          ],
          "default": "us-east-1",
          "description": "AWS region for Bedrock (Mantle and native)"
        },
        "aws-bedrock.showAllModels": {
          "type": "boolean",
          "default": true,
          "description": "Show all available models including specialized variants (like safeguard models)"
        },
        "aws-bedrock.debugLogging": {
          "type": "boolean",
          "default": false,
          "description": "Enable verbose debug logging to the 'AWS Bedrock' Output Channel"
        },
        "aws-bedrock.sendTools": {
          "type": "boolean",
          "default": true,
          "description": "Send tool definitions to the model (disabling can improve latency and avoid very large requests)"
        },
        "aws-bedrock.emitPlaceholders": {
          "type": "boolean",
          "default": true,
          "description": "Emit placeholder text like 'Thinking…' or '(Waiting for model output…)' into chat while waiting"
        },
        "aws-bedrock.modelMetadataSource": {
          "type": "string",
          "enum": [
            "litellm",
            "none"
          ],
          "default": "litellm",
          "description": "Where to source model capability + token limit metadata. 'litellm' uses a public registry; 'none' uses built-in heuristics + runtime probing only."
        },
        "aws-bedrock.modelMetadataUrl": {
          "type": "string",
          "default": "https://raw.githubusercontent.com/BerriAI/litellm/main/model_prices_and_context_window.json",
          "description": "URL for external model metadata (used when modelMetadataSource=litellm)"
        },
        "aws-bedrock.modelMetadataCacheHours": {
          "type": "number",
          "default": 24,
          "minimum": 0,
          "description": "How long to cache external model metadata (hours). 0 disables caching and always refetches."
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "lint": "eslint src --ext ts"
  },
  "dependencies": {
    "@aws-sdk/client-bedrock": "^3.879.0",
    "@aws-sdk/client-bedrock-runtime": "^3.879.0",
    "@aws-sdk/credential-provider-ini": "^3.879.0",
    "@aws-sdk/credential-provider-node": "^3.879.0"
  },
  "devDependencies": {
    "@types/vscode": "^1.104.0",
    "@types/node": "^20.x",
    "typescript": "^5.6.0",
    "eslint": "^9.15.0",
    "@typescript-eslint/eslint-plugin": "^8.15.0",
    "@typescript-eslint/parser": "^8.15.0"
  }
}
